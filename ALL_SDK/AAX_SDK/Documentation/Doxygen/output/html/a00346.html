<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>AAX SDK: Display delegates</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="aaxdoxy.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cw_105x65_aax_buf.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">AAX SDK
   &#160;<span id="projectnumber">2.3.1</span>
   </div>
   <div id="projectbrief">Avid Audio Extensions Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="modules.html"><span>Manual</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Lists</span></a></li>
      <li><a href="usergroup0.html"><span>Support</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#groups">Documents</a>  </div>
  <div class="headertitle">
<div class="title">Display delegates<div class="ingroups"><a class="el" href="a00323.html">AAX SDK Manual</a> &raquo; <a class="el" href="a00343.html">AAX Library features</a> &raquo; <a class="el" href="a00344.html">Parameter Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader"> </h2>
<p>Classes for parameter value string conversion. </p>
<p>Display delegates are used to convert real parameter values to and from their formatted string representations. All display delegates implement the <a class="el" href="a00092.html">AAX_IDisplayDelegate</a> interface, which contains two conversion functions:</p>
<div class="fragment"><div class="line"><span class="keyword">virtual</span> <span class="keywordtype">bool</span>    ValueToString(T value, std::string&amp; valueString) <span class="keyword">const</span> = 0;</div>
<div class="line"><span class="keyword">virtual</span> <span class="keywordtype">bool</span>    StringToValue(<span class="keyword">const</span> std::string&amp; valueString, T&amp; value) <span class="keyword">const</span> = 0;      </div>
</div><!-- fragment --><h1><a class="anchor" id="displaydelegates_decorators"></a>
Display delegate decorators</h1>
<p>The AAX SDK utilizes a decorator pattern in order to provide code re-use while accounting for a wide variety of possible parameter display formats. The SDK includes a number of sample display delegate decorator classes.</p>
<p>Each concrete display delegate decorator implements <a class="el" href="a00094.html">AAX_IDisplayDelegateDecorator</a> and adheres to the decorator pattern. The decorator pattern allows multiple display behaviors to be composited or wrapped together at run time. For instance it is possible to implement a dBV (dB Volts) decorator, by wrapping an <a class="el" href="a00015.html">AAX_CDecibelDisplayDelegateDecorator</a> with an <a class="el" href="a00045.html">AAX_CUnitDisplayDelegateDecorator</a>.</p>
<h2><a class="anchor" id="displaydelegates_decorators_implementation"></a>
Display delegate decorator implementation</h2>
<p>By implementing <a class="el" href="a00094.html">AAX_IDisplayDelegateDecorator</a>, each concrete display delegate decorator class implements the full <a class="el" href="a00092.html">AAX_IDisplayDelegate</a> interface. In addition, it retains a pointer to the <a class="el" href="a00094.html">AAX_IDisplayDelegateDecorator</a> that it wraps. When the decorator performs a conversion, it calls into its wrapped class so that the wrapped decorator may apply its own conversion formatting. By repeating this pattern in each decorator, all of the decorator subclasses call into their "wrapper" in turn, resulting in a final string to which all of the decorators' conversions have been applied in sequence.</p>
<p>Here is the relevant implementation from <a class="el" href="a00094.html">AAX_IDisplayDelegateDecorator</a> :</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a class="code" href="a00094.html">AAX_IDisplayDelegateDecorator&lt;T&gt;::AAX_IDisplayDelegateDecorator</a>(<span class="keyword">const</span> <a class="code" href="a00092.html">AAX_IDisplayDelegate&lt;T&gt;</a>&amp; displayDelegate)  :</div>
<div class="line">    <a class="code" href="a00092.html">AAX_IDisplayDelegate</a>&lt;T&gt;(),</div>
<div class="line">    mWrappedDisplayDelegate(displayDelegate.Clone())</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keywordtype">bool</span>        <a class="code" href="a00094.html#ada5780cfa332ac7946bf95aa65ae96f5">AAX_IDisplayDelegateDecorator&lt;T&gt;::ValueToString</a>(T value, <a class="code" href="a00042.html">AAX_CString</a>* valueString)<span class="keyword"> const </span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <span class="keywordflow">return</span> mWrappedDisplayDelegate-&gt;ValueToString(value, valueString);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keywordtype">bool</span>        <a class="code" href="a00094.html#a18d19293f3eca619cb5bb7f1ffde1a8d">AAX_IDisplayDelegateDecorator&lt;T&gt;::StringToValue</a>(<span class="keyword">const</span> <a class="code" href="a00042.html">AAX_CString</a>&amp; valueString, T* value)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <span class="keywordflow">return</span> mWrappedDisplayDelegate-&gt;StringToValue(valueString, value);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="example"></a>
Decibel decorator example</h2>
<p>Here is a concrete example of how a decibel decorator might be implemented</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keywordtype">bool</span>    <a class="code" href="a00015.html#a147cb1d0b62b0a62c6e3bb98daf80027">AAX_CDecibelDisplayDelegateDecorator&lt;T&gt;::ValueToString</a>(T value, <a class="code" href="a00042.html">AAX_CString</a>* valueString)<span class="keyword"> const </span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <span class="keywordflow">if</span> (value &lt;= 0)</div>
<div class="line">    {</div>
<div class="line">         *valueString = <a class="code" href="a00042.html">AAX_CString</a>(<span class="stringliteral">&quot;--- dB&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    value = 20*log10(value);</div>
<div class="line">    <span class="keywordtype">bool</span> succeeded = <a class="code" href="a00094.html#ada5780cfa332ac7946bf95aa65ae96f5">AAX_IDisplayDelegateDecorator&lt;T&gt;::ValueToString</a>(value, valueString);</div>
<div class="line">     *valueString += <a class="code" href="a00042.html">AAX_CString</a>(<span class="stringliteral">&quot;dB&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> succeeded;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Notice in this example that the <a class="el" href="a00094.html#ada5780cfa332ac7946bf95aa65ae96f5">ValueToString()</a> method is called in the parent class, <a class="el" href="a00094.html">AAX_IDisplayDelegateDecorator</a>. This results in a call into the wrapped class' implementation of <a class="el" href="a00094.html#ada5780cfa332ac7946bf95aa65ae96f5">ValueToString()</a>, which converts the decorated value to a redecorated string, and so forth for additional decorators. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00093.html">AAX_IDisplayDelegateBase</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the display behavior for a parameter.  <a href="a00093.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00092.html">AAX_IDisplayDelegate&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Classes for parameter value string conversion.  <a href="a00092.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Documents</h2></td></tr>
<tr class="memitem:a00347"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00347.html">Display delegate decorators</a></td></tr>
<tr class="memdesc:a00347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Classes for adapting parameter value strings. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<div class="dynheader">
Collaboration diagram for Display delegates:</div>
<div class="dyncontent">
<center><table><tr><td><img src="a00346.png" border="0" alt="" usemap="#a00346"/>
<map name="a00346" id="a00346">
<area shape="rect" id="node1" href="a00344.html" title="Optional (but recommended) system for managing AAX plug&#45;in parameters. " alt="" coords="5,5,145,32"/><area shape="rect" id="node2" href="a00347.html" title="Classes for adapting parameter value strings. " alt="" coords="368,5,555,32"/></map>
</td></tr></table></center>
</div>
</div><!-- contents -->
<!--        Copyright 2016, 2018 by Avid Technology, Inc.        -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<div class="FooterLegal">This product may be protected by one or more U.S. and non-U.S. patents. Details are available at <a href="https://www.avid.com/patents">www.avid.com/patents</a>.</div>
Generated on Fri Feb 2 2018 21:14:36 for AAX SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>

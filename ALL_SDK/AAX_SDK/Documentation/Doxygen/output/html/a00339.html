<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>AAX SDK: Auxiliary Output Stems</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="aaxdoxy.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cw_105x65_aax_buf.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">AAX SDK
   &#160;<span id="projectnumber">2.3.1</span>
   </div>
   <div id="projectbrief">Avid Audio Extensions Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="modules.html"><span>Manual</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Lists</span></a></li>
      <li><a href="usergroup0.html"><span>Support</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Auxiliary Output Stems<div class="ingroups"><a class="el" href="a00323.html">AAX SDK Manual</a> &raquo; <a class="el" href="a00332.html">Additional AAX features</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>Routing custom audio streams from a plug-in. </p>
<h1><a class="anchor" id="additionalFeatures_AOS_overview"></a>
Overview of Auxiliary Output Stems in AAX</h1>
<p>Pro Tools has the capability to show and route multiple "auxiliary" outputs from a plug-in to other tracks. These are known as Auxiliary Output Stems (AOS), a stem referring to one set of outputs. A stereo stem contains two outputs, left and right, and a mono stem contains one output. The outputs will appear in the input assignment pop-up menu of each track under the category "plug-in".</p>
<p>Your plug-in is responsible for the definition of valid aux output paths. This definition includes the total number of outputs and the desired order of stereo and mono paths. Pro Tools will query each plug-in for available valid paths and populate its track input selector popup menus accordingly.</p>
<p>Plug-ins must define the lowest available aux output number. In other words, the port number of an aux output needs to be the lowest available port number after the main outputs of the track the plug-in is instantiated on. For example, the first available aux output for the plug-in residing on a 5.1 surround track would have a port number of 7, since there are 6 main outputs for the track.</p>
<p>Additionally, port numbers must be declared sequentially and in the order aux output stems are added. For example, a stem cannott be added with the port number 10 if it precedes a stem with the port number 4.</p>
<h1><a class="anchor" id="additionalFeatures_AOS_adding"></a>
Implementing Auxiliary Output Stems</h1>
<p>The Auxiliary Output Stems API has a specific descriptor associated with it that needs to be added in Describe: <a class="el" href="a00088.html#a76266e8a07ce20cdbe5721172c32a93d">AAX_IComponentDescriptor::AddAuxOutputStem()</a>. Make sure this method is called for each component that supports a different stem format. For example, a mono aux output would be defined as follows:</p>
<div class="fragment"><div class="line"><span class="comment">// ***************************************************************************</span></div>
<div class="line"><span class="comment">// ROUTINE: DescribeAlgorithmComponent</span></div>
<div class="line"><span class="comment">// Algorithm component description</span></div>
<div class="line"><span class="comment">// ***************************************************************************</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DescribeAlgorithmComponent( <a class="code" href="a00088.html">AAX_IComponentDescriptor</a> * outDesc )</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="a00149.html#a4d8f69a697df7f70c3a8e9b8ee130d2f">AAX_Result</a>                  err = <a class="code" href="a00207.html#a5f8c7439f3a706c4f8315a9609811937aeddbd1bb67e3a66e6af54a4b4a7a57b3">AAX_SUCCESS</a>;</div>
<div class="line">            </div>
<div class="line">    [...]</div>
<div class="line">    err = outDesc-&gt;<a class="code" href="a00088.html#a76266e8a07ce20cdbe5721172c32a93d">AddAuxOutputStem</a>(0 <span class="comment">/* first parameter is not used */</span>,</div>
<div class="line">                                    <a class="code" href="a00206.html#ad8af5ef008b2bd478add9a0acb0a1d85a0cc08ddb9923a4093c820efe84588947">AAX_eStemFormat_Mono</a>,</div>
<div class="line">                                    <span class="stringliteral">&quot;My Auxiliary Output Channel&quot;</span>);</div>
<div class="line">    <a class="code" href="a00158.html#a168ee44fd7a5485ab50160db36fb2988">AAX_ASSERT</a> (err == <a class="code" href="a00207.html#a5f8c7439f3a706c4f8315a9609811937aeddbd1bb67e3a66e6af54a4b4a7a57b3">AAX_SUCCESS</a>);</div>
<div class="line">    [...]</div>
<div class="line">}   </div>
</div><!-- fragment --><p>The auxiliary output buffers for the plug-in will be appended to the normal output buffer array in the plug-in algorithm.</p>
<dl class="section warning"><dt>Warning</dt><dd>Some hosts, such as Media Composer, do not support Auxiliary Output Stems. You must clearly document that your plug-ins are not supported on these hosts; attempts by the plug-in to write data beyond the end of the audio output buffer may cause crashes and other bugs in these hosts. See <a class="el" href="a00373.html">Host Support</a> for more information.</dd></dl>
<p>In your plug-in's algorithm, you will simply need to account for the extra outputs when it processes the audio. Pro Tools will not automatically route your processed audio to all the extra outputs. As with main outputs, make sure the processed audio samples are placed in the auxiliary outputs' buffers as well. </p>
<div class="dynheader">
Collaboration diagram for Auxiliary Output Stems:</div>
<div class="dyncontent">
<center><table><tr><td><img src="a00339.png" border="0" alt="" usemap="#a00339"/>
<map name="a00339" id="a00339">
<area shape="rect" id="node2" href="a00332.html" title="How to use additional features and functionality supported by AAX. " alt="" coords="5,5,168,32"/></map>
</td></tr></table></center>
</div>
</div><!-- contents -->
<!--        Copyright 2016, 2018 by Avid Technology, Inc.        -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<div class="FooterLegal">This product may be protected by one or more U.S. and non-U.S. patents. Details are available at <a href="https://www.avid.com/patents">www.avid.com/patents</a>.</div>
Generated on Fri Feb 2 2018 21:14:32 for AAX SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>AAX SDK: Plug-in type conversion</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="aaxdoxy.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cw_105x65_aax_buf.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">AAX SDK
   &#160;<span id="projectnumber">2.3.1</span>
   </div>
   <div id="projectbrief">Avid Audio Extensions Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="modules.html"><span>Manual</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Lists</span></a></li>
      <li><a href="usergroup0.html"><span>Support</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Plug-in type conversion<div class="ingroups"><a class="el" href="a00323.html">AAX SDK Manual</a> &raquo; <a class="el" href="a00348.html">Additional Topics</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>Specification for valid conversions between plug-in types. </p>
<h1><a class="anchor" id="advancedTopics_relatedTypes_about"></a>
About this specification</h1>
<p>The specification on this page defines the valid AAX plug-in type conversions. An AAX host may use this specification to perform automatic type conversions. For example: </p><ul>
<li class="Bullet">
When a session that was saved with a DSP plug-in Type is opened on a Native system the saved DSP Type should be converted to its Native counterpart.  </li>
<li class="Bullet">
When a session saved with the free version of a plug-in is opened on a system that has the full version installed then the saved free Type may be converted to the full version.  </li>
</ul>
<h1><a class="anchor" id="advancedTopics_relatedTypes_terminology"></a>
Terminology</h1>
<p>In this specification the term "Type" refers to a specific configuration of an AAX plug-in.</p>
<p>Each Type is uniquely identified by a combination of five values: </p><ul>
<li class="Bullet">
Manufacturer ID  </li>
<li class="Bullet">
Product ID  </li>
<li class="Bullet">
Plug-In ID  </li>
<li class="Bullet">
Sample rate bit mask  </li>
<li class="Bullet">
Architecture  </li>
</ul>
<p>Each Type is defined by a particular call to <a class="el" href="a00088.html#a1c069508cf54a523905c8160ebf628ad">AAX_IComponentDescriptor::AddProcessProc_Native</a> or <a class="el" href="a00088.html#aa8443e720e48046444a2e9f712f0864b">AAX_IComponentDescriptor::AddProcessProc_TI</a> in the plug-in's description method.</p>
<p>The Plug-In ID is defined as one of <a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249ea89ca3dd6e96895cda14976c1b1ceb826">AAX_eProperty_PlugInID_Native</a> or <a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249ea75f174df4efbeca86eaada126c1d9214">AAX_eProperty_PlugInID_TI</a>.</p>
<p>In this specification, the format for describing an ID is:</p>
<p>[ ID triad + sample rate + architecture ]</p>
<p>Where the ID triad may be expanded to [ [Manufacturer ID] [Product ID] [Plug-In ID] ]</p>
<ul>
<li class="Bullet">
Explicit values are given in plain face  </li>
<li class="Bullet">
Arbitrary constant values are given in <em class="Bold">bold face</em>  </li>
<li class="Bullet">
Wildcard values are given in <em class="Italic">italics</em>  </li>
</ul>
<p>For example: </p><ul class="paragraphs">
<li>
[ <em class="Bold">ID triad</em> + <em class="Italic">any sample rate</em> + Native ] <ul class="paragraphs">
<li>
Defines all Type identifiers with the same ID triad and the Native architecture, regardless of sample rate.  </li>
</ul>
</li>
<li>
[ [ [<em class="Bold">Manufacturer ID</em>] [<em class="Bold">Product ID</em>] [<em class="Italic">any ID</em>] ] + <em class="Bold">sample rate</em> + Native ] <ul class="paragraphs">
<li>
Defines all Type identifiers with the same Manufacturer and Product IDs, the same sample rate, and the Native architecture, but with any plug-in ID.  </li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="advancedTopics_relatedTypes_scope"></a>
Scope of this specification</h1>
<p>For the purposes of this specification we are not concerned with AudioSuite Types. Currently these Types are never type-converted.</p>
<p>In theory, an AAX host may apply a "partial" type conversion by swapping between different ProcessProcs without destroying and re-building any of the plug-in's objects (data model, GUI). For the purposes of this specification we are not concerned about whether a given conversion is "partial" or "total"; all conversions are treated the same.</p>
<p>Plug-in conversions are also required between Types of different stem formats. In fact, the supported stem format is an integral part of a Type's unique identifier. This specification ignores the question of stem formats entirely; we assume that each Type supports all necessary stem formats for legal conversion with other Types.</p>
<p>In general, type swapping rules for deprecated types and related types are equivalent. See <a class="el" href="a00356.html#advancedTopics_relatedTypes_deprecation">Type deprecation</a> for more information about the differences between related and deprecated types.</p>
<h1><a class="anchor" id="advancedTopics_relatedTypes_constraints"></a>
Topological constraints</h1>
<ul>
<li class="Bullet">
All Types included in a single <a class="el" href="a00087.html">AAX_ICollection</a> must have the same Manufacturer ID  </li>
<li class="Bullet">
All Types included in a single <a class="el" href="a00096.html">AAX_IEffectDescriptor</a> must have the same Manufacturer ID and Product ID  </li>
<li class="Bullet">
The Sample rate bit masks for two Types that share all other identifiers must be non-overlapping. I.e. <code>0x0 == sr_mask1 &amp; sr_mask2</code>  </li>
<li class="Bullet">
Two Types may not be registered that differ only in their Architecture  </li>
<li class="Bullet">
Type relationships may only be defined between mutually exclusive Types. Types are mutually exclusive if: <ul>
<li class="Bullet">
Their sample rate support is non-overlapping  </li>
<li class="Bullet">
The "before" Type's ID triad is not associated with any Type in the plug-in  </li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="advancedTopics_relatedTypes_implicitconversions"></a>
Implicit conversions</h1>
<p>The AAX host should automatically convert between Types within the following IDs: </p><ul>
<li class="Bullet">
[ <em class="Bold">ID triad</em> + <em class="Italic">any sample rate</em> + <em class="Bold">Architecture</em> ]  </li>
<li class="Bullet">
[ [ [<em class="Bold">Manufacturer ID</em>] [<em class="Bold">Product ID</em>] [<em class="Italic">any ID</em>] ] + <em class="Bold">sample rate</em> + <em class="Italic">any architecture</em> ]  </li>
</ul>
<p>These conversions occur only if both Types are included in the plug-in when the conversion is made. Consider the following scenario: </p><ol>
<li class="List">
A session is saved including an plug-in instance with the following Type identifier: [ My ID triad + 48 kHz + TI ]  </li>
<li class="List">
The plug-in is updated to a version that does not include this Type identifier, but that does include [ My ID triad + 48 kHz + Native ]  </li>
<li class="List">
The session is opened on a Native system  </li>
</ol>
<p>In this scenario, if the plug-in had not been updated then an automatic conversion would occur. However, since the plug-in no longer includes the saved Type identifier, no automatic conversion occurs.</p>
<p>A plug-in can work around this situation by including the "old" Type identifier as a Related (or Deprecated) Type (see <a class="el" href="a00356.html#advancedTopics_relatedTypes_explicitconversions">Explicit conversions</a>.)</p>
<p>When a plug-in instance is saved after making an implicit conversion, plug-ins may be saved with the session using their new Type identifier. This is not required. For example, Pro Tools will prefer to save plug-in instances that were converted from DSP types as DSP, even if they were converted to corresponding Native types when the session was loaded onto and saved from a native Pro Tools system.</p>
<h1><a class="anchor" id="advancedTopics_relatedTypes_explicitconversions"></a>
Explicit conversions</h1>
<p>AAX includes properties that allow a plug-in to define explicit relationships between different Types. These properties only operate on ID triads. Each property can be associated with an array of ID triads to define a one-to-one or a many-to-one association between the given ID triads and the specific Type to which the property is attached. </p><ul>
<li class="Bullet">
<a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249ea9dc35184d705e963f14f85df4d71193d">AAX_eProperty_Related_DSP_Plugin_List</a> / <a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249eab102bc794f2770c14b1f0fe2dde6766a">AAX_eProperty_Deprecated_DSP_Plugin_List</a> <ul class="paragraphs">
<li>
All of the given ID triads specify TI Types  </li>
</ul>
</li>
<li class="Bullet">
<a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249eae47f50370ae2f6bf29b8cacc6a41d924">AAX_eProperty_Related_Native_Plugin_List</a> / <a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249ea3f1e690c987d601001a7cc1da8247399">AAX_eProperty_Deprecated_Native_Plugin_List</a> <ul class="paragraphs">
<li>
All of the given ID triads specify Native Types  </li>
</ul>
</li>
</ul>
<p>The AAX host should convert between related Types within the following constraints: </p><ul>
<li class="Bullet">
[ [ [Manufacturer ID] [Related Product ID] [Related TI Plug-In ID] ] + <em class="Bold">sample rate</em> + TI ] <ul class="paragraphs">
<li>
-&gt; [ [ [Manufacturer ID] [New Product ID | Related Product ID] [New Plug-In ID] ] + <em class="Bold">sample rate</em> + <em class="Italic">any architecture</em> ]  </li>
</ul>
</li>
<li class="Bullet">
[ [ [Manufacturer ID] [Related Product ID] [Related Native Plug-In ID] ] + <em class="Bold">sample rate</em> + Native ] <ul class="paragraphs">
<li>
-&gt; [ [ [Manufacturer ID] [New Product ID | Related Product ID] [New Plug-In ID] ] + <em class="Bold">sample rate</em> + <em class="Italic">any architecture</em> ]  </li>
</ul>
</li>
</ul>
<p>These conversions will occur regardless of whether the related ID triad is used for any of the Types in the plug-in.</p>
<p>When a plug-in instance is saved after making an explicit conversion, all plug-ins are saved with the session using their new Type identifier.</p>
<dl class="compatibility_notes"><dt><b><a class="el" href="a00380.html#_compatibility_notes000007">Host Compatibility Notes:</a></b></dt><dd>Pro Tools versions prior to Pro Tools 12.3 do not allow explicit type conversion between types with different product ID values. Beginning in Pro Tools 12.3 both the product ID and the plug-in ID may differ between explicitly related types.</dd></dl>
<h1><a class="anchor" id="advancedTopics_relatedTypes_deprecation"></a>
Type deprecation</h1>
<p>There are two varieties of explicit plug-in type association: related types and deprecated types.</p>
<p>Properties that create a related type association: </p><ul>
<li class="Bullet">
<a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249eae47f50370ae2f6bf29b8cacc6a41d924">AAX_eProperty_Related_Native_Plugin_List</a> </li>
<li class="Bullet">
<a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249ea9dc35184d705e963f14f85df4d71193d">AAX_eProperty_Related_DSP_Plugin_List</a> </li>
</ul>
<p>Properties that create a deprecated type association: </p><ul>
<li class="Bullet">
<a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249ea3f1e690c987d601001a7cc1da8247399">AAX_eProperty_Deprecated_Native_Plugin_List</a> </li>
<li class="Bullet">
<a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249eab102bc794f2770c14b1f0fe2dde6766a">AAX_eProperty_Deprecated_DSP_Plugin_List</a> </li>
<li class="Bullet">
<a class="el" href="a00283.html#a6571f4e41a5dd06e4067249228e2249eadb254df9b6114516beed7a04675a22a3">AAX_eProperty_PlugInID_Deprecated</a> </li>
</ul>
<p>With a few exceptions, these two types of explicit association are treated identically. These are the ways in which deprecated plug-in type association differs from related plug-in type association: </p><ul>
<li class="Bullet">
If plug-in types A and B are both installed, and if type A deprecates type B, then type B will be excluded from all insert lists in Pro Tools and will be made invisible to the user. </li>
<li class="Bullet">
If plug-in types A and B are both installed, and if type A deprecates type B, then instances of type B will be swapped to type A when a session containing saved instances of type B is opened. </li>
<li class="Bullet">
Upon the next session save following a swap due to a deprecated type association, the plug-in instance will be saved into the session using the ID of the new plug-in type. Therefore deprecated type swaps do not round-trip when moving between multiple systems if some of the systems have the deprecated types, but not the deprecating types, installed. </li>
</ul>
<p>Type deprecation should only be used when a new version of an effect completely replaces an old version of the effect. For all other situations, type relationship should be used.</p>
<dl class="compatibility_notes"><dt><b><a class="el" href="a00380.html#_compatibility_notes000008">Host Compatibility Notes:</a></b></dt><dd><ul>
<li>Pro Tools versions before Pro Tools 12.3 treat deprecated and related type associations identically and do not support type deprecation features </li>
<li>Media Composer does not support type deprecation features </li>
<li>VENUE does not support type deprecation features </li>
</ul>
</dd></dl>
<div class="dynheader">
Collaboration diagram for Plug-in type conversion:</div>
<div class="dyncontent">
<center><table><tr><td><img src="a00356.png" border="0" alt="" usemap="#a00356"/>
<map name="a00356" id="a00356">
<area shape="rect" id="node2" href="a00348.html" title="Additional information about the AAX design. " alt="" coords="5,5,129,32"/></map>
</td></tr></table></center>
</div>
</div><!-- contents -->
<!--        Copyright 2016, 2018 by Avid Technology, Inc.        -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<div class="FooterLegal">This product may be protected by one or more U.S. and non-U.S. patents. Details are available at <a href="https://www.avid.com/patents">www.avid.com/patents</a>.</div>
Generated on Fri Feb 2 2018 21:14:58 for AAX SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
